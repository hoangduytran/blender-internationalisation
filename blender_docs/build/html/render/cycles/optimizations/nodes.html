

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="vi" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="vi" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Shader Nodes &mdash; Blender Manual</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  
    <link rel="canonical" href="https://docs.blender.org/manual/en/latest/render/cycles/optimizations/nodes.html"/>
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml"
            title="Tìm kiếm trong Blender Manual"
            href="../../../_static/opensearch.xml"/>
    

  

  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Tìm Kiếm" href="../../../search.html" />
    <link rel="next" title="Render Output" href="../../output/index.html" />
    <link rel="prev" title="Reducing Noise" href="reducing_noise.html" /> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Blender 2.79 Manual
          

          
            
            <img src="../../../_static/blender-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Bắt Đầu -- Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../interface/index.html">Giao Diện Người Dùng -- User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../editors/index.html">Các Trình Biên Soạn -- Editors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_system/index.html">Hệ Thống Dữ Liệu -- Data System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modeling/index.html">Kiến Tạo Mô Hình -- Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sculpt_paint/index.html">Sơn &amp; Điêu Khắc -- Painting &amp; Sculpting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rigging/index.html">Lắp Ráp -- Rigging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../animation/index.html">Hoạt Họa -- Animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../physics/index.html">Vật Lý -- Physics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Kết Xuất -- Render</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../blender_render/index.html">Blender Renderer</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Cycles Renderer</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../materials/index.html">Materials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lamps.html">Lamps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../world.html">World</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nodes/index.html">Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camera.html">Camera</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features.html">Render Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../settings/index.html">Cycles Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gpu_rendering.html">GPU Rendering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../baking.html">Render Baking</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Optimizing Renders</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="reducing_noise.html">Reducing Noise</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Shader Nodes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../output/index.html">Render Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../post_process/index.html">Post Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../freestyle/index.html">Freestyle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workflows/index.html">Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../opengl.html">OpenGL Render</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../audio/index.html">Audio Rendering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../compositing/index.html">Tổng Hợp -- Compositing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_engine/index.html">Bộ Máy Trò Chơi -- Game Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../preferences/index.html">Tùy Chọn Người Dùng -- User Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/index.html">Cao Cấp -- Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../addons/index.html">Trình Bổ Sung -- Add-ons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pipeline/index.html">Quy Trình -- Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/index.html">Xử Lý Sự Cố -- Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/index.html">Bảng Chú Giải Thuật Ngữ -- Glossary</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">Thông tin về bản Hướng Dẫn Sử Dụng này -- About this Manual</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Blender 2.79 Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Kết Xuất -- Render</a> &raquo;</li>
        
          <li><a href="../index.html">Cycles Renderer</a> &raquo;</li>
        
          <li><a href="index.html">Optimizing Renders</a> &raquo;</li>
        
      <li>Shader Nodes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/render/cycles/optimizations/nodes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="shader-nodes">
<h1>Shader Nodes<a class="headerlink" href="#shader-nodes" title="Permalink to this headline">¶</a></h1>
<p>Cycles applies a number of shader node optimizations both at compile time and run-time.
By exploiting them it is possible to design complicated &quot;Uber Shader&quot;
style node groups that incur minimal render time overhead for unused features.</p>
<div class="section" id="node-optimizations">
<h2>Node Optimizations<a class="headerlink" href="#node-optimizations" title="Permalink to this headline">¶</a></h2>
<p>As the first step in preparing a node shader for execution,
Cycles expands all node groups, as if using the Ungroup tool,
and discards UI only features like frames and reroute nodes.</p>
<p>After that, it applies some obvious transformations
For example, it can (the list is not exhaustive):</p>
<ul>
<li><p class="first">Replace the following nodes with the constant result of their evaluation,
if all their inputs are determined to be constant:</p>
<p>RGB, Value, Mix RGB, Math, Vector Math, RGB to BW, Gamma, Bright Contrast,
Invert, Separate/Combine RGB/XYZ/HSV, Blackbody, RGB Curves, Vector Curves, Color Ramps.</p>
</li>
<li><p class="first">Detect Mix RGB, Math and Vector Math nodes that become no-op (without Clamp)
or evaluate to 0 as a result of addition, subtraction, multiplication,
division or dot/cross product with a known constant 0 or 1 input,
and replace with the appropriate input link or constant result.</p>
</li>
<li><p class="first">Eliminate Mix RGB Mix (without Clamp) and Mix Shader nodes when
Factor is known to be 0 or 1 by replacing with the appropriate input value or link.</p>
</li>
<li><p class="first">Eliminate no-op Mix RGB (except Burn, Dodge, Lighten, or enabled Clamp),
Invert, RGB Curves and Vector Curves nodes with known zero Factor.</p>
</li>
<li><p class="first">Eliminate Emission and Background shader nodes that do not emit any light,
and Add Shader nodes with one or both input arguments missing.</p>
</li>
<li><p class="first">Eliminate Bump with constant Height input, using its Normal input or Geometry Normal instead.</p>
</li>
<li><p class="first">Combine multiple copies of the same node with the same inputs into only one instance.</p>
</li>
</ul>
<p>Finally, any nodes that end up not connected either directly or indirectly to the output node are removed.</p>
</div>
<div class="section" id="run-time-optimizations">
<h2>Run-Time Optimizations<a class="headerlink" href="#run-time-optimizations" title="Permalink to this headline">¶</a></h2>
<p>When executing shaders, a special optimization is applied to Mix Shader nodes.
If Factor evaluates to 0 or 1, any nodes that are only reachable via the unused branch of the mix are not evaluated.</p>
<p>This can substantially reduce the performance cost of combining multiple materials
in one shader with vertex color, texture, or other input used as a switch.</p>
</div>
<div class="section" id="open-shading-language">
<h2>Open Shading Language<a class="headerlink" href="#open-shading-language" title="Permalink to this headline">¶</a></h2>
<p>If Open Shading Language is chosen as the rendering back end,
node shaders are translated to OSL code and then compiled and executed by the OSL runtime.
In the process it applies its own extensive set of optimizations, both at compile time and run-time.</p>
<p>Open Shading Language can optimize out Script nodes if their outputs are unused or constant,
even if their OSL shaders have side effects like debug tracing and message passing,
which may be confusing. For that reason message passing with <code class="docutils literal notranslate"><span class="pre">setmessage</span></code> and <code class="docutils literal notranslate"><span class="pre">getmessage</span></code>
should generally not be used for passing information forward in the graph;
explicitly passing information through sockets should be preferred.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../output/index.html" class="btn btn-neutral float-right" title="Render Output" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="reducing_noise.html" class="btn btn-neutral" title="Reducing Noise" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright : This page is licensed under a CC-BY-SA 4.0 Int. License.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="document versions">
<ul id="versionwrap" role="presentation">
   <li style="float:left" role="presentation">
		<span id="version-dropdown" class="version-btn" tabindex="0" role="button" aria-label="versions selector" aria-haspopup="true" aria-controls="version-vsnlist" aria-disabled="true">
		2.79 
		</span>
		<ul id="version-vsnlist" class="version-list" role="menu" aria-labelledby="version-dropdown" aria-hidden="true">
			<li role="presentation">Loading...</li>
		</ul>
	</li>
   <li style="float:right" role="presentation">
		<span id="lang-dropdown" class="version-btn" tabindex="0" role="button"  aria-label="language selector" aria-haspopup="true" aria-controls="version-langlist">
			 vi 
		</span>
		<ul id="version-langlist" class="version-list" role="menu" aria-labelledby="lang-dropdown" aria-hidden="true">
			<li role="presentation">Loading...</li>
		</ul>
	</li>
</ul>
</div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'2.79',
            LANGUAGE:'vi',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/js/version_switch.js"></script>
      <script type="text/javascript" src="../../../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-1418081-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>
</html>